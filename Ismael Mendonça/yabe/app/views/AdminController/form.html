#{extends 'admin.html' /}

#{ifnot post?.id}
    <h3>&{'write.new'}, <span>&{'new.post'}</span></h3>
#{/ifnot}
#{else}
    <h3>&{'edit'}, <span>&{'this.post'}</span></h3>
#{/else}

#{form @save(post?.id)}
    
    #{ifErrors}
        <p class="error">
            &{'correct.errors'}.
        </p>
    #{/ifErrors}
    
    <p>
        #{field 'title'}
            <label>&{'post.title'}:</label>
            <input type="text" name="${field.name}" value="${post?.title}" />
            
            #{ifErrors}
                <span class="error">#{error 'post.title' /}</span>
            #{/ifErrors}
            
        #{/field}
    </p>
    
    <p>
    
		#{field 'content'}
		  <label>&{'write.here'}:</label>
		  <textarea name="${field.name}">${post?.content}</textarea>
		  
		  #{ifErrors}
		      <span class="error">#{error 'post.content' /}</span>
		  #{/ifErrors}
		  
		#{/field}
    </p>
    
    <p>
        #{field 'tags'}
            <label>&{'enter.tag'}:</label>
            <input type="text" size="50" name="${field.name}" value="${post?.tags?.join(' ')}" />
        #{/field}
    </p>
    
    <p class="crudButtons">
        <input class="submitButton" type="submit" value="&{'publish.post'}" />
    </p>
    
#{/form}